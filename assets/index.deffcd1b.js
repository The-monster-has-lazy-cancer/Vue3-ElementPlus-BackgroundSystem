import{E as e,a as t,r as a,o as n,g as l,u as s,b as o,c as r,d as i,e as u,f as d,h as c,i as m,w as g,j as p,t as f,k as h,l as v,p as b,m as M,n as y,q as I,F as U,s as _,v as w,x,y as D,z as k,A as L,B as T,C as S,D as C,O as N,G as W,H as V,I as P,J as F,K as E}from"./vendor.3a67564c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var O=new Date,R=O.getMonth()+1,J=O.getDate();const Y={Year:O.getFullYear(),Month:R<10?"0"+R:R,Day:J<10?"0"+J:J,Week:(()=>{let e="";switch(O.getDay()){case 0:e="星期天";break;case 1:e="星期一";break;case 2:e="星期二";break;case 3:e="星期三";break;case 4:e="星期四";break;case 5:e="星期五";break;case 6:e="星期六"}return e})(),YearWeek:(e=>{let t=new Date(e.getFullYear(),0,1),a=e.getDay();0==a&&(a=7);let n=t.getDay();0==n&&(n=7);let l=e.getTime()-t.getTime(),s=Math.floor((l+864e5*(n-a))/864e5);return Math.ceil(s/7)})(O),loadding:null,showLoadding(t){if(!Y.loadding)return Y.loadding=e.service({fullscreen:!0,body:!0,text:t||"Loading..."}),Y.loadding},hideLoadding(){Y.loadding&&Y.loadding.close(),Y.loadding=null},showSuccess:e=>t({grouping:!0,message:e,type:"success"}),showError:e=>t({grouping:!0,message:e,type:"error"}),showWarning:e=>t({grouping:!0,message:e,type:"warning"}),showDefault:e=>t({grouping:!0,message:e,type:"info"}),saveData(e,t){localStorage.setItem(e,JSON.stringify(t))},removeData(e){localStorage.removeItem(e)},getData(e){let t=localStorage.getItem(e);return null!=t&&"undefined"!=t&&null!=t?JSON.parse(t):null}};const z={class:"LoginContainer"},A={class:"Login"},j=c("div",{class:"L-left-Logo"},[c("img",{src:"./assets/System-Logo.8a764cac.png",alt:"我是个logo"})],-1),B={class:"L-right-Form"},H=c("div",{class:"LoginTitle"}," 妖怪系统登录 ",-1),q={class:"Logincontent"},K=c("br",null,null,-1),G=c("br",null,null,-1),Q=h("记住账户密码"),X=h("登录"),Z={class:"footer"},$={setup(e){const t=a("");n((()=>{t.value="妖怪得懒癌管理系统",Y.getData("MonsterUserID")&&(I.UserName=Y.getData("MonsterUserID"),I.PassWord=l.decode(Y.getData("MonsterUserPassWord")))}));const h=a("large"),b=a("right"),M=s(),y=o(),I=r({UserName:"",PassWord:"",rememberSysUser:!0}),U=()=>{v.post("api/Login",I).then((e=>{200==e.data.code?(_(),y.commit("setUserInfo",e.data.userInfo),M.push("Index"),Y.showSuccess("登陆成功,欢迎使用!")):Y.showWarning("账户或密码错误!")})).catch((e=>{console.log(JSON.stringify(e))}))},_=()=>{if(I.rememberSysUser){let e=l.encode(I.PassWord);Y.saveData("MonsterUserID",I.UserName),Y.saveData("MonsterUserPassWord",e)}else Y.removeData("MonsterUserID"),Y.removeData("MonsterUserPassWord")};return(e,a)=>{const n=i("el-input"),l=i("el-checkbox"),s=i("el-button"),o=i("el-form-item"),r=i("el-form");return u(),d("div",z,[c("div",A,[j,c("div",B,[H,c("div",q,[m(r,{ref:(e,t)=>{t.form=e},model:p(I),"label-width":"auto","label-position":b.value,size:h.value},{default:g((()=>[m(n,{modelValue:p(I).UserName,"onUpdate:modelValue":a[0]||(a[0]=e=>p(I).UserName=e),"prefix-icon":"User",placeholder:"请输入账户名"},null,8,["modelValue"]),K,G,m(n,{type:"password",modelValue:p(I).PassWord,"onUpdate:modelValue":a[1]||(a[1]=e=>p(I).PassWord=e),"prefix-icon":"Lock",placeholder:"请输入密码"},null,8,["modelValue"]),m(l,{modelValue:p(I).rememberSysUser,"onUpdate:modelValue":a[2]||(a[2]=e=>p(I).rememberSysUser=e)},{default:g((()=>[Q])),_:1},8,["modelValue"]),m(o,null,{default:g((()=>[m(s,{type:"primary",class:"LoginSubmit",onClick:U},{default:g((()=>[X])),_:1})])),_:1})])),_:1},8,["model","label-position","size"])])])]),c("div",Z," © "+f(t.value)+"  "+f(p(Y).Year),1)])}}};b("data-v-65610a66");const ee={class:"MenuContainer"},te=c("div",{class:"LogTitle"}," 妖怪 ",-1),ae={class:"Menucontent"};M();const ne={setup(e){y((e=>({"1727bd74":t.value})));const t=a("180px"),l=I("isCollapse"),b=o(),M=s();a("");const D=r([]);n((()=>{let e=b.getters.getRoles,t=Y.getData("MonsterUserInfo");!e&&t?(b.commit("setUserInfo",t),e=b.getters.getRoles,k(e)):e||t?e&&k(e):(Y.showWarning("请登录!"),M.push("/"))}));const k=async e=>{D.value={},await v.post("api/getMenu",e).then((e=>{D.value=e.data})).catch((e=>{console.log(JSON.stringify(e))}))},L=e=>{alert("xxx")};return(e,t)=>{const a=i("el-icon"),n=i("el-menu-item"),s=i("el-sub-menu"),o=i("el-menu"),r=i("el-scrollbar");return u(),d("div",ee,[m(r,{height:"100%"},{default:g((()=>[te,c("div",ae,[m(o,{class:"el-menu-monster",collapse:p(l),onSelect:L,router:""},{default:g((()=>[(u(!0),d(U,null,_(p(D).value,(e=>(u(),d(U,null,[e.ChildrenMenu<=0?(u(),w(n,{key:0,index:e.path},{title:g((()=>[h(f(e.MenuTitle),1)])),default:g((()=>[m(a,null,{default:g((()=>[(u(),w(x(e.icon),{class:"MenuIcon"}))])),_:2},1024)])),_:2},1032,["index"])):(u(),w(s,{key:1,index:e.path},{title:g((()=>[m(a,null,{default:g((()=>[(u(),w(x(e.icon),{class:"MenuIcon"}))])),_:2},1024),c("span",null,f(e.MenuTitle),1)])),default:g((()=>[(u(!0),d(U,null,_(e.ChildrenMenu,(e=>(u(),w(n,{index:e.path},{default:g((()=>[m(a,null,{default:g((()=>[(u(),w(x(e.icon),{class:"MenuIcon"}))])),_:2},1024),c("span",null,f(e.MenuTitle),1)])),_:2},1032,["index"])))),256))])),_:2},1032,["index"]))],64)))),256))])),_:1},8,["collapse"])])])),_:1})])}},__scopeId:"data-v-65610a66"};b("data-v-64c1dbc1");const le={class:"headerContainer"},se={class:"toolbar"},oe={class:"toolbtn"},re={class:"vertical"},ie={class:"toolbtn"},ue={class:"vertical"};M();const de={setup(e){const t=s(),a=o(),n=I("isCollapse"),l=()=>{n.value=!n.value},r=()=>{a.commit("setUserInfo",null),Y.removeData("MonsterUserInfo"),t.push("/Login")};return(e,t)=>{const a=i("Expand"),s=i("Fold"),o=i("FullScreen"),f=i("el-tooltip"),h=i("el-divider"),v=i("UserFilled"),b=i("SwitchButton");return u(),d("div",le,[c("div",{class:"toggleMenu",onClick:l},[D(m(a,{class:"ExpandFold"},null,512),[[k,p(n)]]),D(m(s,{class:"ExpandFold"},null,512),[[k,!p(n)]])]),c("div",se,[m(f,{content:"全屏",effect:"light"},{default:g((()=>[c("div",oe,[m(o)])])),_:1}),c("div",re,[m(h,{direction:"vertical",style:{height:"80%"}})]),m(f,{content:"用户中心",effect:"light"},{default:g((()=>[c("div",ie,[m(v)])])),_:1}),c("div",ue,[m(h,{direction:"vertical",style:{height:"80%"}})]),m(f,{content:"退出登录",effect:"light"},{default:g((()=>[c("div",{class:"toolbtn signout",onClick:r},[m(b)])])),_:1})])])}},__scopeId:"data-v-64c1dbc1"};b("data-v-6191b558");const ce={class:"IndexContainer"};M();const me={setup(e){o();const t=a(!1);L("isCollapse",t);const l=a(0),s=a(0),r=()=>{s.value=window.innerHeight,l.value=window.innerWidth},c=a("");n((()=>{r(),window.addEventListener("resize",r),c.value="妖怪得懒癌管理系统"})),T((()=>[l.value,s.value]),(([e,a],[n,l])=>{t.value=a<800||e<1e3}));const v=a([{title:"Tab 1",name:"1",content:"Tab 1 content"},{title:"Tab 2",name:"2",content:"Tab 2 content"},{title:"Tab 3",name:"3",content:"Tab 3 content"}]),b=()=>{};return(e,t)=>{const a=i("el-aside"),n=i("el-header"),l=i("router-view"),s=i("el-tab-pane"),o=i("el-tabs"),r=i("el-main"),M=i("el-footer"),y=i("el-container");return u(),d("div",ce,[m(y,null,{default:g((()=>[m(a,{width:"none"},{default:g((()=>[m(ne)])),_:1}),m(y,null,{default:g((()=>[m(n,null,{default:g((()=>[m(de)])),_:1}),m(r,null,{default:g((()=>[m(o,{modelValue:e.editableTabsValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editableTabsValue=t),type:"border-card",closable:"",onTabRemove:b},{default:g((()=>[(u(!0),d(U,null,_(v.value,(e=>(u(),w(s,{class:"slide-in-left",key:e.name,label:e.title,name:e.name},{default:g((()=>[m(l)])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(M,null,{default:g((()=>[h("© "+f(c.value)+"  "+f(p(Y).Year),1)])),_:1})])),_:1})])),_:1})])}},__scopeId:"data-v-6191b558"},ge=[{path:"/",redirect:"/Login"},{path:"/Login",component:$},{path:"/Index",component:me},{path:"/Index/:path+"}],pe=S({history:C(),routes:ge});N.mock("api/Login","post",(e=>{let t=null,a=JSON.parse(e.body);return t="admin"==a.UserName&&"admin"==a.PassWord?{code:200,userInfo:{UserName:a.UserName,RoleName:"管理员"}}:{code:400,userRole:null},t})),N.mock("api/getMenu","post",(e=>[{id:"1",MenuTitle:"工作台",icon:"Monitor",path:"/Index/Home",component:"",ChildrenMenu:[]},{id:"2",MenuTitle:"业务菜单",icon:"DataAnalysis",path:"/Index/BusinessMenu",component:"",ChildrenMenu:[{id:"4",MenuTitle:"数据图表",icon:"Monitor",path:"/Index/Echarts",component:"",ChildrenMenu:[]},{id:"5",MenuTitle:"通用表格",icon:"Monitor",path:"/Index/Tables",component:"",ChildrenMenu:[]}]},{id:"3",MenuTitle:"系统管理",icon:"Setting",path:"/Index/SysAdmin",component:"",ChildrenMenu:[]}]));const fe=W({state:()=>({userInfo:null,token:null}),getters:{getUserInfo:e=>null!=e.userInfo?e.userInfo:null,getRoles:e=>null!=e.userInfo?e.userInfo.RoleName:null},mutations:{setUserInfo(e,t){e.userInfo=t,Y.saveData("MonsterUserInfo",t)},setToken(e,t){e.token=t}}}),he=V({setup:e=>(e,t)=>{const a=i("router-view");return u(),w(a)}});he.use(P,{locale:F});for(const[ve,be]of Object.entries(E))he.component(ve,be);he.use(pe),he.use(fe),he.mount("#app");
